ITERATION 22 — Cloud AI adapters + schema-locked Insight JSON
SUBAGENTS: journalink-cloudai (lead), journalink-privacy (support), journalink-qa (support)

PRIMARY GOAL
Add opt-in cloud inference for insights:
- Provider adapters (OpenAI/Gemini/Claude) behind one interface
- Strict JSON schema output
- Token/cost estimate preview
- Never store raw compare payload; store only final insights + evidence pointers

PREFLIGHT
1) CompareCapsule builder works and returns minimized JSON.
2) Settings screen exists or add one for API keys.

IMPLEMENTATION TASKS
A) Provider interface:
   - services/cloud/providers/IProvider.ts
   - openaiProvider.ts, geminiProvider.ts, anthropicProvider.ts (stubs allowed if keys missing)
B) Insight schema:
   - services/compare/insightSchema.ts
   - validate response JSON; if invalid, show safe error and retry with stricter instructions
C) UI:
   - Consent screen: choose provider, show cost estimate
   - Loading progress states: Packing → Sending → Validating → Rendering
D) Security:
   - store keys in secure storage
   - add “Data minimization” explainer

QA
- With no keys, app stays local-only.
- With a key, insights appear and match schema exactly.

DELIVERABLES
- Cloud insights optional and working.
- Commit: "iter22: cloud ai adapters + schema insights"
